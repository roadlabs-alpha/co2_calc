<div class=component_container>
	<h2>Company Vehicles</h2>
	Please input the cars associated with your company. We think of company cars, cars in a pool, transport vehicles or personally assigned vehicles.
	<br>
	Currently, you have <b>{{n_total_vehicles}}</b> vehicles associated with your company!
	<br>
	<br>
	Add a Vehicle Group
	<br>

	<div class=add_category_block>

		<div>
			<h3>{{vgn}}</h3>
		</div>

		<mat-form-field appearance="fill" [formGroup]="fg_vehicleclass" class="form_element">
			<mat-label>Select Vehicle Class</mat-label>
			<mat-select matNativeControl formControlName="fc_vehicleclass">
				<mat-option style="color:#333" value="compact">Compact</mat-option>
				<mat-option style="color:#333" value="executive">Executive</mat-option>
				<mat-option style="color:#333" value="transporter">Transporter</mat-option>
			</mat-select>
		</mat-form-field>

		<mat-form-field appearance="fill" [formGroup]="fg_vehicleclass" class="form_element">
			<mat-label>Vehicle Propulsion</mat-label>
			<mat-select matNativeControl formControlName="fc_vehicleprop">
				<mat-option style="color:#333" value="electric">Electric</mat-option>
				<mat-option style="color:#333" value="gasoline">Gasoline</mat-option>
				<mat-option style="color:#333" value="diesel">Diesel</mat-option>
			</mat-select>
		</mat-form-field>

		<mat-form-field appearance="fill" [formGroup]="fg_vehicleclass" class="form_element">
			<mat-label>Mileage (Year)</mat-label>
			<mat-select matNativeControl formControlName="fc_mileage">

				<mat-option style="color:#333" *ngFor="let mc of mileage_classes" value={{mc.id}}>{{mc.name}}</mat-option>
				<!--mat-option value="<5000 km"><5000 km</mat-option>
				<mat-option value="5000-10000 km">5000-10000 km</mat-option>
				<mat-option value="10000-20000 km">10000-20000 km</mat-option>
				<mat-option value="20000-30000 km">20000-30000 km</mat-option-->
				</mat-select>
			</mat-form-field>

			<mat-form-field class="form_element" [formGroup]="fg_vehicleclass">
				<mat-label>Vehicle count</mat-label>
				<input matInput type="text" placeholder="1" formControlName="fc_count">
			</mat-form-field>

			<div class=form_element>
				<form appearance="fill" [formGroup]="fg_vehicleclass">
					<mat-checkbox formControlName="fc_privateuse" >Privat use allowed</mat-checkbox><br>
					<mat-checkbox formControlName="fc_poolcar">Poolvehicle</mat-checkbox>
				</form>
			</div>


			<form class=block_add>
				<button mat-button mat-icon-button aria-label="Clear" (click)="add_vehicle_group();">
					<mat-icon>add</mat-icon>
				</button>
			</form>


		</div>

		<div class=vehicle_groups_container *ngIf="vehicle_groups.length==0">
			You have no vehicle groups yet!
		</div>
		<div class=vehicle_groups_container *ngIf="vehicle_groups.length>0">

			<table id=customers>
				<tr>
					<th> </th>
					<th>Vehicle class</th>
					<th>Propulsion</th>
					<th>Mileage</th>
					<th>Count</th>
					<th>Private use</th>
					<th>Pool car</th>
					<th> </th>
				</tr>

				<tr  *ngFor = "let vg of vehicle_groups; let i = index">
					<td>{{vg.vgn}}</td>
					<td>{{vg.vehicleclass}}</td>
					<td>{{vg.vehicleprop}}</td>
					<td>{{vg.mileage_name}}</td>
					<td>{{vg.count}}</td>
					<td>{{vg.is_poolcar}}</td>
					<td>{{vg.is_private_use}}</td>
					<td><form class=block_add>
						<button mat-button mat-icon-button aria-label="Clear" (click)="delete_vehicle_group(i);">
							<mat-icon>clear</mat-icon>
						</button>
					</form></td>
				</tr>
			</table>
			<br>
			<span *ngIf="change_detected" style="color: red;">Save your vehicles!</span>
			<br>
			<button mat-raised-button  color="accent" (click)="save_vehicle_groups();">Save vehicle groups</button>
		</div>
	</div>